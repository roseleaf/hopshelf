Or this one?

= form_for(@message) do |f|
  - if @message.errors.any?
    #error_explanation
      %h2
        = pluralize(@message.errors.count, "error")
        prohibited this message from being saved:
      %ul
        - @message.errors.full_messages.each do |msg|
          %li= msg
  .field
    = f.label :subject
    %br/
    = f.text_field :subject
  .field
    = f.label "Any personal message you'd like to send"
    %br/
    = f.text_area :text
    = f.hidden_field :senderId, :value => current_user.id
    = f.hidden_field :book_id, :value => @books.id
    = f.hidden_field :receiverId, :value => @books.poster_id

  .field
    = f.label "Suggest when and where might be good for pick-up"
    %br/
    = f.text_area :plan
  .actions
    = f.submit
